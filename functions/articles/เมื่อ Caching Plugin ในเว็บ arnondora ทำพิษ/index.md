---
title: "เมื่อ Caching Plugin ในเว็บ arnondora.in.th ทำพิษ"
image: "./Cache_Failed_Signed.png"
category: My Life
excerpt: "อันนี้ถือว่าเป็นเรื่องสั้น ๆ ละกันนะ มาเล่าถึงความบรรลัยของการ Settings Cache Plugin แล้วพลาด"
date: 2017-06-16T00:41:44.000
author: arnondora
template: full-width
type: post
isFeatured: false
status: published
---

อันนี้ถือว่าเป็นเรื่องสั้น ๆ ละกันนะ มาเล่าถึงความบรรลัยของการ Settings Cache Plugin แล้วพลาด เรื่องมันมีอยู่ว่า เมื่อคืน (14 มิถุนายน 2017) ผมก็เข้ามาเขียนบทความที่เขียนค้างไว้ต่อ แต่รู้สึกแหม่ง ๆ ใจแปลก ๆ เลยเปิดเข้าไปดูใน Stat ของเว็บตัวเอง ปรากฏว่าเป็นอย่าง Status ข้างล่างนี้เลย



เฮ้ยคนหายไปไหนแบบ หายไปเลย ฉากในหนังเอเลี่ยนก็มา ประมาณว่า คนอ่านเว็บผมถูกจับตัวไปทดลองนอกโลก รึเปล่าหว่า หรือโดนลุง\_\_ จับตัวไป ไม่นะ ล้อเล่นนะ เอาความจริงคือ คนหายไปแบบนี้มันไม่ใช่เรื่องธรรมชาติสักเท่าไหร่ จึงเริ่มจากการไปเช็คจาก **Google Analytic** ว่ามีอะไรผิดปกติรึเปล่า

![](./Cache_Failed_1.png)

ปรากฏว่า เฮ้ยหายเหมือนกัน !!! ผิดปกติมาก ๆ แล้ว ประกอบกับผมพึ่งย้าย Hosting ใหม่ไปไม่กี่เดือน หลังจากนั้นก็มีการล่มระยะเวลาสั้น ๆ อยู่หลายครั้ง ครั้งละ 2-3 นาที ก็ว่ากันไป เลยทำการติดตั้ง Cloudflare ไว้ช่วย Cache และตัว Cloudflare เองก็มี Stat บอกเช่นกันว่า Cache ไปเท่าไหร่ยังไงบ้าง

ก็ลองเข้าไป ปรากฏว่าเข้ากี่ครั้งก็ติด Error ตอนนั้นคือใจเสียแล้วแบบเว็บพังเหรอ หายขนาดนี้สงสัยต้องปิดเว็บแล้วละ นั่งคิดสักแปบใจเย็น ๆ ก็ไปเปิด Stat บน Hosting

![](./Cache_Failed_3.png)

ผลออกมาคือ มันก็เฉย ๆ นะ มันดูไม่เหวี่ยงเหมือนกับผลที่ออกมาจาก Google Analytic กับ Jetpack Plugin เลย ทำไมกันนะ

![](./Cache_Failed_2.png)

ตอนนั้นคือนั่งคิดไปไกลมาก จนถึง ROV Curve กันเลยทีเดียว ว่าที่ Stat จาก Hosting มันขึ้น ๆ ลง ๆ แบบนี้มันอยู่ในช่วงปกติรึเปล่าหว่าา ตอนนั้นคือนั่งทำจริง ๆ ผลที่ได้คือ OMG ไม่สัมพันธ์กันเลย อ้าว !! แล้วจะเอายังไงดีละ ผลจาก 2 ที่มันสัมพันธ์กัน แต่อีกที่ไม่

และเช้าของอีกวัน หลังจากที่เมื่อคืนผมโพสต์ Status ลง Facebook บอกว่า ก็เห็นวันนั้นผมนั่งปล่อย Release ของ Theme นิ !! นี่ก็ เออหว่ะ !! จริงด้วย แต่ Release นั้นเป็นแค่การ Minify CSS,JS เฉย ๆ เองนะ จะเกี่ยวเหรอ ก็เลยของ Checkout ไปที่ Version ก่อนแล้ว Deploy ลงไป แต่ผ่านไป 2 ชั่วโมงยอดก็ไม่ขึ้น

หลังจากนั้นอีกไม่นาน ก็มีเพื่อนอีกคนเข้ามาช่วยเช็ค ดูหลายอย่างมาก จนเปิด Source ดูแล้วเห็น Error เด้งเต็มไปหมดเลย ซึ่งก็ไม่รู้เหมือนกันว่ามันมาจากไหน เพราะแค่การ Minified มันไม่น่าจะพ่น Error ตอน Runtime แบบนั้นได้เลย สรุปคือไม่เกี่ยวกับที่แก้ไปวันนั้น ขอบคุณมาก ๆ เลยนะที่มาช่วย :)

![](./Cache_Failed_4.png)

หลังจากนั่งเอา Error ไปหาในเว็บหลาย ๆ เว็บอยู่นานก็ไม่ได้อะไรเลย จนมาถึงบางอ้อว่า วันนั้นนอกจากเราจะปล่อย Release ใหม่แล้ว เรายังเปลี่ยนตัวทำ Cache เป็น **W3 Total Cache** ด้วยนี่หว่าาา นอกจากนั้นยังมีการเซ็ต Minified CSS,JS กับ HTML ลงไปด้วยนี่หว่าาา เลยลอง Disable ออกดู Refresh แล้วลอง View Source ดูใหม่ หายแจ้

Google Analytic ที่ควรจะ Inject เข้ามาผ่าน Plugin ก็กลับมา และ Error ที่เจอก่อนหน้านี้ก็หายไป

## สรุป
จริง ๆ วันนี้มาแชร์ปัญหาให้อ่านกันเฉย ๆ แหละ แต่เหนือสิ่งอื่นใด เรื่องนี้สอนให้รู้ว่า เวลาเจอปัญหาให้ใจเย็น ๆ และค่อย ๆ วิเคราะห์ไป บางทีต้นตอของปัญหามันอาจจะอยู่ตื้นกว่าที่เราเห็น นี่ก็นั่งคิดไปไกลยัน ROV Curve ในวิชา Data Mining ได้ สงสัยเรียนเยอะไปจริง ๆ และ อย่าเซ็ต Plugin ที่ไม่รู้จักมั่ว ๆ ไม่งั้นอาจจะได้เจอเหมือนผมก็ได้ ช๊อคกลางดึกกันเลยทีเดียว
